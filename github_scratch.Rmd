---
title: "git_temp"
author: "MSCI 599"
date: "11/11/2020"
output: html_document
---



<table>
  <tr>
    <th>Command</th>
    <th>Origin</th>
    <th>Destination</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><code>git clone REPO_URL</code></td>
    <td>Personal Github</td>
    <td>Local</td>
    <td>Creates a local copy of a Github repo. The URL can be copied from Github.com by clicking the `Clone or Download` button.</td>
  </tr>
  <tr>
    <td><code>git add README.md</code></td>
    <td>Working Dir</td>
    <td>Staging Area</td>
    <td>Add "README.md" to staging area.</td>
  </tr>
  <tr>
    <td><code>git commit</code></td>
    <td>Staging Area</td>
    <td>Local</td>
    <td>Commits changes to files to the local repo.</td>
  </tr>
  <tr>
    <td><code>git commit -a</code></td>
    <td>Working Dir</td>
    <td>Local</td>
    <td>adds and commits all file changes to the local repo.</td>
  </tr>
  <tr>
    <td><code>git pull</code></td>
    <td>Personal Github</td>
    <td>Local</td>
    <td>Retrieve any changes from a Github repo.</td>
  </tr>
  <tr>
    <td><code>git push</code></td>
    <td>Local</td>
    <td>Personal Github</td>
    <td>Sends commited file changes to Github repo.</td>
  </tr>
  <tr>
    <td><code>git merge</code></td>
    <td>Other branch</td>
    <td>Current branch</td>
    <td>Merge any changes in the named branch with the current branch.</td>
  </tr>
  <tr>
    <td><code>git checkout -b patch1</code></td>
    <td>NA</td>
    <td>NA</td>
    <td>Create a branch called "patch1" from the current branch and switch to it.</td>
  </tr>
  <tr>
    <td><code>git init</code></td>
    <td>NA</td>
    <td>NA</td>
    <td>Initialise a directory as a Git repo.</td>
  </tr>
  <tr>
    <td><code>git log</code></td>
    <td>NA</td>
    <td>NA</td>
    <td>Display the commit history for the current repo</td>
  </tr>
  <tr>
    <td><code>git status</code></td>
    <td>NA</td>
    <td>NA</td>
    <td>See which files are staged/unstaged/changed</td>
  </tr>
  <tr>
    <td><code>git diff</code></td>
    <td>NA</td>
    <td>NA</td>
    <td>See the difference between staged uncomitted changes and the most recent commit</td>
  </tr>
  <tr>
    <td><code>git stash</code></td>
    <td>NA</td>
    <td>NA</td>
    <td>Save uncommitted changes in a temporary version and revert to the most recent commit</td>
  </tr>
</table>

Below is a quick exercise so you can familiarise yourself with these command line tools. There are a few ways to use interact with Git using the terminal:

1. If you are already in RStudio on a Mac or Linux machine, you can open a terminal within RStudio by going to `Tools -> Terminal -> New Terminal` in the menu. 
2. If you are on a Mac or Linux machine you could just open a terminal program and run Git from there. Most Mac and Linux machines will have Git installed by default. On Mac you can go open a terminal by going to: `Applications/Utilities/Terminal.app`.
3. If you are on a personal Windows machine, you can run Git using Git Bash, which can be installed when you installed Git.

![RStudio new terminal menu item screenshot]({{ site.baseurl }}/assets/img/tutorials/git/rstudio_new_terminal.png)

Once you have opened a terminal using one of the above methods, start by creating a folder somewhere on your local system called `git_test`, using the `mkdir` (make directory) command by typing the following into the terminal and hitting "Enter":

```shell
mkdir git_test
```

Then enter that folder using `cd` (change directory):

```shell
cd git_test
```

Then, make the folder into a Git repository:

```shell
git init
```

Now the folder has been made into a Git repository, allowing you to track changes to files. Now, lets create a `README.md` file inside the repository and put some text in it, using whatever text editor you are comfortable with. Make sure to place this `README.md` file into the repository folder on your device so it can be found! 

{% capture callout %}
## Creating a README from scratch

Your computer probably comes with a text editor, such as Notepad for Windows or TextEdit for Mac. Open a new doc, type your information, and save it as `README.md` (with TextEdit, you might have to save it as .rf first, then change the extension in your Finder.) 

If you want to do it from the comfort of RStudio, you can create a new RMarkdown file, and save it while changing the extension from `.Rmd` to `.md`. 
{% endcapture %}
{% include callout.html content=callout colour='callout' %}

Now, to add the file to be tracked by the Git repository:

```shell
git add README.md
```

The file has now been added to the staging area, but has not yet been committed to a version of the repository. To commit a version:

```shell
git commit
```

You then have to enter a commit message using the text editor which appears, If you have selected Vim as the default text editor, you will need to press `i` before you can type, then `Esc` when you are finished typing. To save and exit, type `:wq`.

Currently, the Git repository is still only on our local computer. Versions are being committed, but they are not being backed up to a remote version of the repository on Github. Go to Github and create a repository called `git_test`, like you did earlier on in the workshop, but this time don't create a `README.md` because we have just made one on the local computer. Now, copy the HTTPS link for that repository. In the terminal, link the local Git repository with the remote repository using the following code, replacing `<HTTPS_LINK>` with the link you copied:

```shell
git remote add origin <HTTPS_LINK>
```

Then make the first push to that newly linked remote repository:

```shell
git push -u origin master
```

Now you can continue editing files, adding changes (`git add <FILE>`), committing changes (`git commit`), pulling (`git pull`) and pushing (`git push`) changes, similar to the process you did with clicking buttons in RStudio. Feel free to explore some of the more advanced commands laid out in the table and flow diagram above. You can also check out a more advanced command line tutorial written by [Prof Simon Mudd for Numeracy, Modelling and Data management guide](http://simon-m-mudd.github.io/NMDM_book/#_version_control_with_git).

This tutorial was developed as part of the collaboration between Coding Club and the NERC E3 Doctoral Training Programme. To learn more about the E3 DTP, check out  [the programme's website](http://e3dtp.geos.ed.ac.uk/).






